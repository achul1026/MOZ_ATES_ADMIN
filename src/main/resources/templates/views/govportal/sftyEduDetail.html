<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">

<th:block layout:fragment="content">

	<div id="container-fluid">

		<!-- Page Heading -->
		<h1 id="detail-content-title" th:text="#{portal.eduDetail.title}">상세 내용</h1>
		<table class="sub-table detail-table">
				<colgroup>
					<col width="15%">
					<col width="85%">
				</colgroup>
				<tbody>
					<tr>
						<th th:text="#{portal.eduDetail.ttl}">제목</th>
						<td th:text="${sftyEdctn.postTtl}"></td>
					</tr>
					<tr>
						<th th:text="#{portal.eduDetail.posting}">게시여부</th>
						<td>
							<th:block th:if="${sftyEdctn.postStrDe == null && sftyEdctn.postEndDe == null}" th:text="#{portal.common.alwaysPosted}">
								항상 게시
							</th:block>
							
							<th:block th:if="${sftyEdctn.postStrDe != null && sftyEdctn.postEndDe != null}">
								<input type="date" class="input-date" name="postStrDt" th:value="${#dates.format(sftyEdctn.postStrDe, 'yyyy-MM-dd')}" disabled> 
								~ 
								<input type="date" class="input-date" name="postEndDt" th:value="${#dates.format(sftyEdctn.postEndDe, 'yyyy-MM-dd')}" disabled>
							</th:block>
						</td>
					</tr>
					<tr>
						<th th:text="#{portal.eduDetail.attachment}">첨부파일</th>
						<td th:text="${sftyEdctn.atchFile != null ? sftyEdctn.atchFile.fileOrgNm : '-'}"></td>
					</tr>
					<tr>
						<th th:text="#{portal.eduDetail.exposure}">노출여부</th>
						<td><input type="checkbox" th:checked="${sftyEdctn.expYn == 'Y'}" disabled> <label th:text="#{portal.common.exposure}">노출</label></td>
					</tr>
					<tr>
						<th th:text="#{portal.eduDetail.content}">내용</th>
						<td th:text="${sftyEdctn.postCn}"></td>
					</tr>
				</tbody>
			</table>
			
			<div class="btn-wrap-center">
				<button th:text="#{penalty.common.list}" type="button" id="btnGoList" class="sub-btn left-btn" 
					th:onclick="|location.href='@{/portal/sftyEdu/list.do}'|">목록</button>
				<button th:text="#{portal.common.delete}" type="button" id="btnDelete" class="delete-btn">삭제</button>
				<button th:text="#{portal.common.modifyBtn}" type="button" id="btnModify" class="main-btn"
					th:onclick="|location.href='@{/portal/sftyEdu/update.do(tfcSftyEdctnId=${sftyEdctn.tfcSftyEdctnId})}'|">수정</button>
			</div>
		
	</div>

</th:block>

</html>

<script th:inline="javascript">
	$("#btnDelete").click(function () {
		new ModalBuilder().init().alertBody([[#{portal.eduDetail.deleteMessage}]]).footer(2,'확인',function(button, modal){
			var idx = [[${sftyEdctn.tfcSftyEdctnId}]];
			$.ajax({
				url: /*[[@{/portal/sftyEdu/delete.ajax}]]*/ "/portal/sftyEdu/delete.ajax",
				type: "post",
				data: {"tfcSftyEdctnId": idx},
				success: function (result) {
					var resultCode = result.code;
					var resultMessage = result.message;
					if (resultCode == '200') {
						new ModalBuilder().init().successBody(resultMessage).footer(4,'확인',function(button, modal){
							modal.close();
							location.href = /*[[@{/portal/sftyEdu/list.do}]]*/ '/portal/sftyEdu/delete.ajax';
						}).open();
					} else {
						new ModalBuilder().init().alertBody(resultMessage).footer(4,'확인',function(button, modal){modal.close();}).open();
					}
				}
			});
			modal.close();
			}, '취소', function(button, modal){}).open();
	});
</script>