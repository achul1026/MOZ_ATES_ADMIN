<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout}">

<th:block layout:fragment="content">

	<div id="container-fluid">

		<!-- Page Heading -->
		<h1 th:text="#{portal.PP.title.place}" id="content-title">범칙금 납부처</h1>
		<div id="content-sub-title" th:text="#{portal.pp.title.desc}">범칙금 납부처를 관리할 수 있습니다.</div>

		<div class="">
			<form id="frmSearch">
				<input type="hidden" id="hdnStart" name="start" th:value="${plPymntInfo.start}">
				<input type="hidden" id="page" name="page" th:value="${pagination.page}">
				<table id="filter-table">
					<colgroup>
						<col width ="15%">
						<col width ="85%">
					</colgroup>
					<tbody>
						<tr>
							<th th:text="#{portal.common.type}">유형 선택</th>
							<td>
								<select name="searchType" class="filter-select" id="searchType" th:field="${plPymntInfo.searchType}">
									<option value="all" th:text="#{portal.pp.search.type.all}">전체</option>
									<option value="pymntLctnNm" th:text="#{portal.pp.search.type.locationName}">납부처 이름</option>
									<option value="pymntLctnAddr" th:text="#{portal.pp.search.type.locationAddr}">주소</option>
									<option value="cntct" th:text="#{portal.pp.search.type.contact}">연락처</option>
								</select>
							</td>
						</tr>
						<tr>
							<th th:text="#{portal.notice.common.search}">내용 검색</th>
							<td> <input class="search-box main-input" id="searchTxt" name="searchTxt" type="text" 
									th:value="${plPymntInfo.searchTxt}" th:placeholder="#{portal.common.search.placeholder}"></td>
						</tr>
					</tbody>
				</table>

				<div class="btn-wrap-center">
					<button th:text="#{penalty.common.search}" type="button" id="btnSearch" class="main-btn form-button">조회</button>
					<!-- TODO 검색초기화 -->
					<button type="button" id="resetSearch" class="sub-btn form-button" onclick="resetForm('frmSearch')" th:text="#{portal.common.search.reset}">검색 초기화</button>
				</div>
			</form>
		</div>

		<div id="search-form-result-wrap">
			<div id="table-search-result-text">
				Found <span th:text='|"${pagination.totalListCnt}"|'></span> results
			</div>
			<div id="">
				<button th:text="#{portal.common.regisertBtn}" type="button" id="btnRegist" class="main-btn form-button"
					th:onclick="|location.href='@{/portal/penaltyplace/save.do}'|">범칙금 납부처 등록</button>
			</div>
		</div>

		<div class="">
			<table class="main-table" id="tblList" width="100%" cellspacing="0" style="width: 100%;">
				<thead>
					<tr role="">
						<th class="sorting sorting_asc">No.</th>
<!--						<th th:text="#{portal.pp.type}">납부처 유형</th>-->
						<th th:text="#{portal.pp.addrName}">남부처 이름</th>
						<th th:text="#{portal.pp.addr}">납부처 주소</th>
						<th th:text="#{portal.pp.contact}">연락처</th>
						<th th:text="#{portal.pp.operatingTime}">운영시간</th>
						<th th:text="#{portal.pp.closedDays}">휴무일</th>
						<th th:text="#{portal.pp.manager}">담당자</th>
					</tr>
				</thead>

				<tbody>
					<tr th:each="plPymntItem : ${plPymntList}" th:onclick="|location.href='@{/portal/penaltyplace/detail.do(placePymntId=${plPymntItem.placePymntId})}'|">
						<td th:text="${plPymntItem.rnum}"></td>
<!--						<td th:text="${plPymntItem.cmCd.cdNm}"></td>-->
						<td th:text="${plPymntItem.placePymntNm}"></td>
						<td th:text="${plPymntItem.placePymntAddr}"></td>
						<td th:text="${plPymntItem.placePymntCntc}"></td>
						<td th:text="|${plPymntItem.operStrTm} ~ ${plPymntItem.operEndTm}|"></td>
						<td th:text="${plPymntItem.clsdDt}"></td>
						<td th:text="${plPymntItem.placePymntRprsvNm}"></td>
				</tbody>
			</table>
		</div>
		<div class="page_wrap">
			<div th:insert="tags/paging :: pagingFragment"></div>
		</div>
	</div>


</th:block>

</html>
<script th:inline="javascript">
	function fnPageMove(page) {
		$("#page").val(page);
		$("#frmSearch").submit();
	}
	
	$("#btnSearch").on('click', function(){
		$("#frmSearch").submit();		
	})
</script>